<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>dplyr</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/clipboard-2.0.6/clipboard.min.js"></script>
<link href="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { color: #585cf6; } /* Constant */
code span.co { color: #4c886b; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.dv { color: #0000cd; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cd; } /* Float */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { color: #687687; } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #036a07; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">OCEAN_5098</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="environment.html">Environment</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Manipulation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="basics.html">Basics</a>
    </li>
    <li>
      <a href="dplyr.html">dplyr</a>
    </li>
    <li>
      <a href="tidyr.html">tidyr</a>
    </li>
  </ul>
</li>
<li>
  <a href="types.html">Types &amp; structures</a>
</li>
<li>
  <a href="graphs.html">Graphics</a>
</li>
<li>
  <a href="maps.html">Mapping</a>
</li>
<li>
  <a href="functions.html">Loop &amp; functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="stat_1.html">Initiation</a>
    </li>
    <li>
      <a href="stat_2.html">Linear models</a>
    </li>
    <li>
      <a href="stat_3.html">Multivariates</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">dplyr</h1>

</div>


<a href="data:text/x-markdown;base64,LS0tDQp0aXRsZTogImRwbHlyIg0KLS0tDQoNCmBgYHtyIGV2YWwgPSBUUlVFLCAgbWVzc2FnZT1GLCBpbmNsdWRlPSBGQUxTRSwgd2FybmluZz1GLCBwdXJsPUYsIHJlc3VsdHM9ImhpZGUifQ0Ka25pdHI6OnB1cmwoJ2RwbHlyLlJtZCcsIGRvY3VtZW50YXRpb24gPSAwKQ0KYGBgDQoNCmBgYHtyIGVjaG89RkFMU0UsIHB1cmw9Rn0NCnhmdW46OmVtYmVkX2ZpbGUoJ2RwbHlyLlJtZCcpDQpgYGANCg0KDQpgYGB7ciBlY2hvPUZBTFNFLCBwdXJsPUZ9DQp4ZnVuOjplbWJlZF9maWxlKCdkcGx5ci5SJykNCmBgYA0KDQpgYGB7ciBlY2hvPUZBTFNFfQ0KeGFyaW5nYW5FeHRyYTo6dXNlX2NsaXBib2FyZCgpDQpgYGANCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KIyBCYWNrZ3JvdW5kDQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQ0KbGlicmFyeSAoZHBseXIpDQpgYGANCg0KQXMgc3RhdGVkIGluIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgcGFja2FnZSAoYD9kcGx5cmApLCBgZHBseXJgIGlzIGFsbCBhYm91dCBkYXRhIG1hbmlwdWxhdGlvbiAqKl8iZHBseXI6IEEgZ3JhbW1hciBvZiBkYXRhIG1hbmlwdWxhdGlvbiJfKiouIEl0IGlzIHBhcnQgb2YgdGhlIGB0aWR5dmVyc2VgIHVuaXZlcnNlLCBhIHNlcmllcyBvZiBwYWNrYWdlcyB0aGF0IGhhdmUgbWFkZSB0aGVpciBtYXJrIGluIHRoZSBhcnQgb2YgZGF0YXNldCBtYW5pcHVsYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBUaGUgYGRwbHlyYCBwYWNrYWdlIGhhcyBtYW55IGZlYXR1cmVzIHRvIHNwZWVkIHVwICB0aGUgZXhwbG9yYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uIG9mIGRhdGEuIFRvIGxlYXJuIG1vcmUgYWJvdXQgYGRwbHlyYCwgeW91IGNhbiBleHBsb3JlIHRoZSB2aWduZXR0ZTogYGJyb3dzZVZpZ25ldHRlcyhwYWNrYWdlID0gImRwbHlyIilgLiBZb3UgY2FuIGFsc28gdmlzaXQgdGhlIGZvbGxvd2luZyBbd2Vic2l0ZV0oaHR0cHM6Ly9kcGx5ci50aWR5dmVyc2Uub3JnLykgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGBkcGx5cmAgcGFja2FnZS4gU29tZSBpbXBvcnRhbnQgZnVuY3Rpb25zIGZyb20gdGhpcyBwYWNrYWdlIGFyZSBjb3ZlcmVkIGluIHRoZSBmb2xsb3dpbmcgc2VjdGlvbnMuDQoNCg0KIyBTdW1tYXJpemUNCg0KVGhlIGBzdW1tYXJpc2VgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZ2FpbiBpbnNpZ2h0cyAobWVhbiwgbWVkaWFuLCBtb2RlLCBldGMuKSBmcm9tIGEgZGF0YSBzZXQuIEl0IHJlZHVjZXMgc2V2ZXJhbCB2YWx1ZXMgdG8gYSBzaW5nbGUgdmFsdWUuIEZvciBleGFtcGxlOg0KDQpgYGB7ciwgIGV2YWw9VH0NCnN1bW1hcmlzZWQgPC0gc3VtbWFyaXNlKGlyaXMsIE1lYW4uV2lkdGggPSBtZWFuKFNlcGFsLldpZHRoKSkNCmhlYWQoc3VtbWFyaXNlZCkNCmBgYA0KDQpUaGUgb3JpZ2luYWwgYGlyaXNgIGRhdGFzZXQgaXMgYSBkYXRhIGZyYW1lIG9mIGRpbWVuc2lvbnMgKGBkaW0oaXJpcylgKSAxNTAgb2JzZXJ2YXRpb25zIGJ5IDUgdmFyaWFibGVzLiBUaGUgZnVuY3Rpb24gYHN1bW1hcmlzZWAgc3VtbWFyaXNlcyBpdCBpbnRvIGEgZGF0YSBmcmFtZSBjb25zaXN0aW5nIG9mIDEgb2JzZXJ2YXRpb24gYW5kIDEgdmFyaWFibGUgKHRoZSBgbWVhbihTZXBhbC53aWR0aClgKS4NCg0KIyBNYW5pcHVsYXRlDQoNCiMjIGBzZWxlY3RgDQoNClRoZSBgc2VsZWN0YCBmdW5jdGlvbiBpcyB1c2VkIHRvIHNlbGVjdCBkYXRhIGJhc2VkIG9uIHRoZSBuYW1lIG9mIGEgY29sdW1uLiBTZXZlcmFsIHN5bnRheGVzIGFyZSBwb3NzaWJsZS4gRm9yIGV4YW1wbGU6DQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQ0KIyBieSBjb2x1bW4gbmFtZXMNCnNlbGVjdGlvbjEgPC0gZHBseXI6OnNlbGVjdChpcmlzLCBTZXBhbC5MZW5ndGgsIFNlcGFsLldpZHRoLCBQZXRhbC5MZW5ndGgpDQpoZWFkKHNlbGVjdGlvbjEpIA0KDQojIGJ5IGNvbHVtbiByYW5nZQ0Kc2VsZWN0aW9uMiA8LSBkcGx5cjo6c2VsZWN0KGlyaXMsIFNlcGFsLkxlbmd0aDpQZXRhbC5MZW5ndGgpDQpoZWFkKHNlbGVjdGlvbjIsIDQpDQoNCiMgYnkgY29sdW1uIHJhbmdlIG51bWJlcg0Kc2VsZWN0aW9uMyA8LSBkcGx5cjo6c2VsZWN0KGlyaXMsYygyOjUpKQ0KaGVhZChzZWxlY3Rpb24zKQ0KYGBgDQoNClVzZSBgLWAgdG8gaGlkZSBhIHBhcnRpY3VsYXIgY29sdW1uDQoNCmBgYHtyLCAgZXZhbD1GfQ0Kc2VsZWN0aW9uNCA8LSBkcGx5cjo6c2VsZWN0KGlyaXMsIC1TZXBhbC5MZW5ndGgsIC1TZXBhbC5XaWR0aCkNCmBgYA0KDQpOb3RlIHRoZSB1c2Ugb2YgdGhlIG5vdGF0aW9uIGA6OmAgaW4gdGhlIGxhc3QgY29kZSBjaHVuay4gVGhlIHVzZSBvZiBgOjpgIGlzIHRvIGNhbGwgYSBmdW5jdGlvbiBmcm9tIGEgc3BlY2lmaWMgcGFja2FnZSB3aXRob3V0IG5lY2Vzc2FyaWx5IGxvYWRpbmcgdGhlIHBhY2thZ2UuIFRoZSBtYWluIGFkdmFudGFnZSBpcyB0byBhdm9pZCBwb3NzaWJsZSBjb25mbGljdHMgYmV0d2VlbiBmdW5jdGlvbnMuIEluIGZhY3QsIGl0IGNhbiBoYXBwZW4gdGhhdCBkaWZmZXJlbnQgcGFja2FnZXMgdXNlIHRoZSBzYW1lIG5hbWUgZm9yIGRpZmZlcmVudCBmdW5jdGlvbnMuIGBkcGx5cjo6c2VsZWN0YCBpbmRpY2F0ZXMgdGhhdCB3ZSB3YW50IHRvIHVzZSB0aGUgYHNlbGVjdGAgZnVuY3Rpb24gZnJvbSB0aGUgYGRwbHlyYCBwYWNrYWdlLiBJdCBpcyBxdWl0ZSBjb21tb24gdG8gdXNlIHRoaXMgc3ludGF4IHdoZW4gc2V2ZXJhbCBwYWNrYWdlcyBuZWVkIHRvIGJlIHVzZWQgaW4gcGFyYWxsZWwuDQoNCg0KIyMgYGZpbHRlcmANCg0KVGhlIGBmaWx0ZXJgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZmlsdGVyIHJvd3Mgd2l0aCBtYXRjaGluZyBjcml0ZXJpYS4gVGhlIGlkZWEgaXMgdGhlIHNhbWUgYXMgc2VlbiBiZWZvcmUgKHNlZSBbQmFzaWNzXSguL2Jhc2ljcy5odG1sKSkuIEl0IHdvcmtzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgYHNlbGVjdGAgZnVuY3Rpb24gKGkuZS4gd2UgcGFzcyBhIGRhdGEgZnJhbWUgdG9nZXRoZXIgd2l0aCBhIGNvbW1hLXNlcGFyYXRlZCBjb25kaXRpb24pLg0KDQotIFNpbmdsZSBjb25kaXRpb246DQoNCmBgYHtyLCAgZXZhbD1UfQ0KIyBTZWxlY3Qgc2V0b3NhIHNwZWNpZXMNCmZpbHRlcmVkMSA8LSBmaWx0ZXIoaXJpcywgU3BlY2llcyA9PSAic2V0b3NhIiApDQpoZWFkKGZpbHRlcmVkMSwzKQ0KYGBgDQoNCi0gRHVhbCBjb25kaXRpb25zOg0KDQpgYGB7ciwgIGV2YWw9VH0NCiMgU2VsZWN0IHZlcnNpY29sb3Igc3BlY2llcyB3aXRoIFNlcGFsIHdpZHRoIG1vcmUgdGhhbiAzDQpmaWx0ZXJlZDIgPC0gZmlsdGVyKGlyaXMsIFNwZWNpZXMgPT0gInZlcnNpY29sb3IiLCBTZXBhbC5XaWR0aCA+IDMpDQp0YWlsKGZpbHRlcmVkMikNCmBgYA0KDQojIyBgbXV0YXRlYA0KDQpUaGUgZnVuY3Rpb24gYG11dGF0ZWAgaXMgdG8gY3JlYXRlIG5ldyBjb2x1bW5zICh2YXJpYWJsZXMpIHdoaWxlIHByZXNlcnZpbmcgZXhpc3RpbmcgY29sdW1ucyBpbiBhIGRhdGEgc2V0LiBGb3IgZXhhbXBsZToNCg0KYGBge3IsICBldmFsPVR9DQojVG8gY3JlYXRlIGEgY29sdW1uIOKAnEdyZWF0ZXIuSGFsZuKAnSB3aGljaCBzdG9yZXMgYSBsb2dpY2FsIHZlY3RvciAoVC9GKQ0KbXV0YXRlZDEgPC0gbXV0YXRlKGlyaXMsIEdyZWF0ZXIuSGFsZiA9IFNlcGFsLldpZHRoID4gMC41ICogU2VwYWwuTGVuZ3RoKQ0KdGFpbChtdXRhdGVkMSkNCmBgYA0KDQo+IFRvIGNoZWNrIGhvdyBtYW55IGZsb3dlcnMgZmFsbCBpbiB0aGlzIGNvbmRpdGlvbiwgdGhlIGZ1bmN0aW9uIGB0YWJsZWAgZnJvbSB0aGUgYGJhc2VgIHBhY2thZ2UgcHJvZHVjZXMgYSBjb250aW5nZW5jeSB0YWJsZSB3aXRoIHRoZSBuby4gb2YgaW5kaXZpZHVhbCB3aGVyZSB0aGUgY29uZGl0aW9uIGlzIGBUUlVFYCBhbmQgYEZBTFNFYDoNCg0KDQpgYGB7Y3NzLCBlY2hvPUZBTFNFfQ0KLmV4dHJhIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmVlbjsNCiAgYm9yZGVyOiAzcHggc29saWQgZ3JlZW47DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KYGBgDQoNCg0KYGBge3IsICBldmFsPVQsIGNsYXNzLnNvdXJjZT0iZXh0cmEifQ0KdGFibGUobXV0YXRlZDEkR3JlYXRlci5IYWxmKQ0KYGBgDQoNCiMjIGBhcnJhbmdlYA0KDQpUaGUgYGFycmFuZ2VgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc29ydCByb3dzIGJ5IHZhcmlhYmxlcyBpbiBhc2NlbmRpbmcgKGRlZmF1bHQpIG9yIGRlc2NlbmRpbmcgb3JkZXIuIEZvciBleGFtcGxlOg0KDQpgYGB7ciwgIGV2YWw9VH0NCiMgU2VwYWwgV2lkdGggYnkgYXNjZW5kaW5nIG9yZGVyDQphcnJhbmdlZDEgPC0gYXJyYW5nZShpcmlzLCBTZXBhbC5XaWR0aCkNCmhlYWQoYXJyYW5nZWQxKQ0KDQojIFNlcGFsIFdpZHRoIGJ5IGRlc2NlbmRpbmcgb3JkZXINCmFycmFuZ2VkMiA8LSBhcnJhbmdlKGlyaXMsIGRlc2MoU2VwYWwuV2lkdGgpKQ0KaGVhZChhcnJhbmdlZDIpDQpgYGANCg0KIyMgYGdyb3VwX2J5YA0KDQpUaGUgYGdyb3VwX2J5YCBmdW5jdGlvbiBncm91cHMgb2JzZXJ2YXRpb25zIHdpdGhpbiBhIGRhdGEgc2V0IGFjY29yZGluZyB0byBvbmUgb3IgbW9yZSB2YXJpYWJsZXMuIERhdGEgb3BlcmF0aW9ucyBhcmUgb2Z0ZW4gcGVyZm9ybWVkIG9uIGdyb3VwcyBkZWZpbmVkIGJ5IHZhcmlhYmxlcy4gYHVuZ3JvdXBgIHJlbW92ZXMgZ3JvdXBpbmcuIEZvciBleGFtcGxlLCB0byBgc3VtbWFyaXNlYCBhIGRhdGEgc2V0LCBgZ3JvdXBfYnlgIGJ5IGBTcGVjaWVzYDoNCg0KYGBge3IsICBldmFsPVR9DQojIE1lYW4gc2VwYWwgd2lkdGggYnkgU3BlY2llcw0KZ3AgPC0gZ3JvdXBfYnkoaXJpcywgU3BlY2llcykNCmdwLm1lYW4gPC0gc3VtbWFyaXNlKGdwLE1lYW4uU2VwYWwgPSBtZWFuKFNlcGFsLldpZHRoKSkNCmdwLm1lYW4NCmBgYA0KDQpUaGlzIGNyZWF0ZXMgYSBgdGliYmxlYCAoYSBkYXRhIGZyYW1lIHdpdGggc3RyaWN0ZXIgdmFsaWRhdGlvbiBhbmQgYmV0dGVyIGZvcm1hdHRpbmcpLCBzZWUgYD90aWJibGU6OnRpYmJsZWAsIHdoaWNoIHJldHVybnMgdGhlIG1lYW4gb2YgdGhlIGBNZWFuLlNlcGFsYCB3aWR0aCBmb3IgdGhlIHRocmVlIGZsb3dlcnMgYFNwZWNpZXNgLiANCg0KIyBQaXBlIG9wZXJhdG9yDQoNCg0KVGhlIHVzZSBvZiB0aGUgYWJvdmUgZnVuY3Rpb25zIGlzIHNpbXBsZSBhbmQgc3RyYWlnaHRmb3J3YXJkLiBIb3dldmVyLCB0aGUgdXNlIG9mIHRoaXMgc3ludGhheCBxdWlja2x5IHNob3dzIGl0cyBsaW1pdHMgd2hlbiB0aGUgb3BlcmF0aW9ucyBiZWNvbWUgbW9yZSBjb21wbGljYXRlZC4gVGhlIHVzZSBvZiB0aGUgcGlwZSBvcGVyYXRvciBgJT4lYCBtYWtlcyBpdCBwb3NzaWJsZSB0byBsaW5rIHNldmVyYWwgZnVuY3Rpb25zIHRvZ2V0aGVyLiBJdCBjYW4gYmUgdXNlZCB3aXRoIGZ1bmN0aW9ucyBzdWNoIGFzIGBmaWx0ZXJgLCBgc2VsZWN0YCwgYGFycmFuZ2VgLCBgc3VtbWFyaXNlYCwgYGdyb3VwX2J5YCwgZXRjLg0KDQpIZXJlIGlzIGFuIGV4YW1wbGU6DQoNCmBgYHtyLCAgZXZhbD1UfQ0KI1RvIHNlbGVjdCB0aGUgcm93cyB3aXRoIGNvbmRpdGlvbnMNCmlyaXMgJT4lIGZpbHRlcihTcGVjaWVzID09ICJzZXRvc2EiLFNlcGFsLldpZHRoID4gMy44KQ0KYGBgDQoNClRvIGZpbmQgbWVhbiBgU2VwYWwuTGVuZ3RoYCBieSBgU3BlY2llc2AsIHdlIHVzZSB0aGUgcGlwZSBvcGVyYXRvciBhcyBmb2xsb3dpbmc6DQoNCmBgYHtjc3MsIGVjaG89RkFMU0V9DQouaW1wb3J0YW50IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRwaW5rOw0KICBib3JkZXI6IDNweCBzb2xpZCByZWQ7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KYGBgDQoNCmBgYHtyLCAgZXZhbD1ULCBjbGFzcy5zb3VyY2U9ImltcG9ydGFudCJ9DQppcmlzICAlPiUgDQogIGdyb3VwX2J5KFNwZWNpZXMpICU+JSANCiAgc3VtbWFyaXNlKE1lYW4uTGVuZ3RoID0gbWVhbihTZXBhbC5MZW5ndGgpKQ0KYGBgDQoNClRoZSB1c2Ugb2YgdGhlIHBpcGUgb3BlcmF0b3IgYCU+JWAgaGFzIG5vdyBpbXBvc2VkIGl0c2VsZiBmb3IgdGhlIG1hbmlwdWxhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24gb2YgZGF0YSBpbiBSLiBUaGUgUiBsYW5ndWFnZSBpcyBub3QgZml4ZWQgYW5kIHdpdGggaXRzIGRldmVsb3BtZW50IHRoaXMgc3ludGF4IGhhcyBiZWNvbWUgdmVyeSBjb21tb24uIEl0IGlzIG5vdyBhbiBpbnRlZ3JhbCBwYXJ0IG9mIG1vc3QgUiBzY3JpcHRzIHlvdSB3aWxsIGZpbmQgb25saW5lLg==" download="dplyr.Rmd">Download dplyr.Rmd</a>
<a href="data:text/plain;base64,eGFyaW5nYW5FeHRyYTo6dXNlX2NsaXBib2FyZCgpDQoNCmxpYnJhcnkgKGRwbHlyKQ0KDQpzdW1tYXJpc2VkIDwtIHN1bW1hcmlzZShpcmlzLCBNZWFuLldpZHRoID0gbWVhbihTZXBhbC5XaWR0aCkpDQpoZWFkKHN1bW1hcmlzZWQpDQoNCiMgYnkgY29sdW1uIG5hbWVzDQpzZWxlY3Rpb24xIDwtIGRwbHlyOjpzZWxlY3QoaXJpcywgU2VwYWwuTGVuZ3RoLCBTZXBhbC5XaWR0aCwgUGV0YWwuTGVuZ3RoKQ0KaGVhZChzZWxlY3Rpb24xKSANCg0KIyBieSBjb2x1bW4gcmFuZ2UNCnNlbGVjdGlvbjIgPC0gZHBseXI6OnNlbGVjdChpcmlzLCBTZXBhbC5MZW5ndGg6UGV0YWwuTGVuZ3RoKQ0KaGVhZChzZWxlY3Rpb24yLCA0KQ0KDQojIGJ5IGNvbHVtbiByYW5nZSBudW1iZXINCnNlbGVjdGlvbjMgPC0gZHBseXI6OnNlbGVjdChpcmlzLGMoMjo1KSkNCmhlYWQoc2VsZWN0aW9uMykNCg0KIyMgc2VsZWN0aW9uNCA8LSBkcGx5cjo6c2VsZWN0KGlyaXMsIC1TZXBhbC5MZW5ndGgsIC1TZXBhbC5XaWR0aCkNCg0KIyBTZWxlY3Qgc2V0b3NhIHNwZWNpZXMNCmZpbHRlcmVkMSA8LSBmaWx0ZXIoaXJpcywgU3BlY2llcyA9PSAic2V0b3NhIiApDQpoZWFkKGZpbHRlcmVkMSwzKQ0KDQojIFNlbGVjdCB2ZXJzaWNvbG9yIHNwZWNpZXMgd2l0aCBTZXBhbCB3aWR0aCBtb3JlIHRoYW4gMw0KZmlsdGVyZWQyIDwtIGZpbHRlcihpcmlzLCBTcGVjaWVzID09ICJ2ZXJzaWNvbG9yIiwgU2VwYWwuV2lkdGggPiAzKQ0KdGFpbChmaWx0ZXJlZDIpDQoNCiNUbyBjcmVhdGUgYSBjb2x1bW4g4oCcR3JlYXRlci5IYWxm4oCdIHdoaWNoIHN0b3JlcyBhIGxvZ2ljYWwgdmVjdG9yIChUL0YpDQptdXRhdGVkMSA8LSBtdXRhdGUoaXJpcywgR3JlYXRlci5IYWxmID0gU2VwYWwuV2lkdGggPiAwLjUgKiBTZXBhbC5MZW5ndGgpDQp0YWlsKG11dGF0ZWQxKQ0KDQojIyAuZXh0cmEgew0KIyMgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyZWVuOw0KIyMgICBib3JkZXI6IDNweCBzb2xpZCBncmVlbjsNCiMjICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQojIyB9DQoNCnRhYmxlKG11dGF0ZWQxJEdyZWF0ZXIuSGFsZikNCg0KIyBTZXBhbCBXaWR0aCBieSBhc2NlbmRpbmcgb3JkZXINCmFycmFuZ2VkMSA8LSBhcnJhbmdlKGlyaXMsIFNlcGFsLldpZHRoKQ0KaGVhZChhcnJhbmdlZDEpDQoNCiMgU2VwYWwgV2lkdGggYnkgZGVzY2VuZGluZyBvcmRlcg0KYXJyYW5nZWQyIDwtIGFycmFuZ2UoaXJpcywgZGVzYyhTZXBhbC5XaWR0aCkpDQpoZWFkKGFycmFuZ2VkMikNCg0KIyBNZWFuIHNlcGFsIHdpZHRoIGJ5IFNwZWNpZXMNCmdwIDwtIGdyb3VwX2J5KGlyaXMsIFNwZWNpZXMpDQpncC5tZWFuIDwtIHN1bW1hcmlzZShncCxNZWFuLlNlcGFsID0gbWVhbihTZXBhbC5XaWR0aCkpDQpncC5tZWFuDQoNCiNUbyBzZWxlY3QgdGhlIHJvd3Mgd2l0aCBjb25kaXRpb25zDQppcmlzICU+JSBmaWx0ZXIoU3BlY2llcyA9PSAic2V0b3NhIixTZXBhbC5XaWR0aCA+IDMuOCkNCg0KIyMgLmltcG9ydGFudCB7DQojIyAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0cGluazsNCiMjICAgYm9yZGVyOiAzcHggc29saWQgcmVkOw0KIyMgICBmb250LXdlaWdodDogYm9sZDsNCiMjIH0NCg0KaXJpcyAgJT4lIA0KICBncm91cF9ieShTcGVjaWVzKSAlPiUgDQogIHN1bW1hcmlzZShNZWFuLkxlbmd0aCA9IG1lYW4oU2VwYWwuTGVuZ3RoKSkNCg==" download="dplyr.R">Download dplyr.R</a>
<hr />
<div id="background" class="section level1">
<h1>Background</h1>
<div class="sourceCode" id="cb1"><pre
class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span> (dplyr)</span></code></pre></div>
<p>As stated in the description of the package (<code>?dplyr</code>),
<code>dplyr</code> is all about data manipulation <strong><em>“dplyr: A
grammar of data manipulation”</em></strong>. It is part of the
<code>tidyverse</code> universe, a series of packages that have made
their mark in the art of dataset manipulation and transformation. The
<code>dplyr</code> package has many features to speed up the exploration
and transformation of data. To learn more about <code>dplyr</code>, you
can explore the vignette:
<code>browseVignettes(package = "dplyr")</code>. You can also visit the
following <a href="https://dplyr.tidyverse.org/">website</a> for more
information about the <code>dplyr</code> package. Some important
functions from this package are covered in the following sections.</p>
</div>
<div id="summarize" class="section level1">
<h1>Summarize</h1>
<p>The <code>summarise</code> function is used to gain insights (mean,
median, mode, etc.) from a data set. It reduces several values to a
single value. For example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>summarised <span class="ot">&lt;-</span> <span class="fu">summarise</span>(iris, <span class="at">Mean.Width =</span> <span class="fu">mean</span>(Sepal.Width))</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">head</span>(summarised)</span></code></pre></div>
<pre><code>##   Mean.Width
## 1   3.057333</code></pre>
<p>The original <code>iris</code> dataset is a data frame of dimensions
(<code>dim(iris)</code>) 150 observations by 5 variables. The function
<code>summarise</code> summarises it into a data frame consisting of 1
observation and 1 variable (the <code>mean(Sepal.width)</code>).</p>
</div>
<div id="manipulate" class="section level1">
<h1>Manipulate</h1>
<div id="select" class="section level2">
<h2><code>select</code></h2>
<p>The <code>select</code> function is used to select data based on the
name of a column. Several syntaxes are possible. For example:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># by column names</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>selection1 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(iris, Sepal.Length, Sepal.Width, Petal.Length)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="fu">head</span>(selection1) </span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length
## 1          5.1         3.5          1.4
## 2          4.9         3.0          1.4
## 3          4.7         3.2          1.3
## 4          4.6         3.1          1.5
## 5          5.0         3.6          1.4
## 6          5.4         3.9          1.7</code></pre>
<div class="sourceCode" id="cb6"><pre
class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># by column range</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>selection2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(iris, Sepal.Length<span class="sc">:</span>Petal.Length)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">head</span>(selection2, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length
## 1          5.1         3.5          1.4
## 2          4.9         3.0          1.4
## 3          4.7         3.2          1.3
## 4          4.6         3.1          1.5</code></pre>
<div class="sourceCode" id="cb8"><pre
class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># by column range number</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>selection3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(iris,<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="fu">head</span>(selection3)</span></code></pre></div>
<pre><code>##   Sepal.Width Petal.Length Petal.Width Species
## 1         3.5          1.4         0.2  setosa
## 2         3.0          1.4         0.2  setosa
## 3         3.2          1.3         0.2  setosa
## 4         3.1          1.5         0.2  setosa
## 5         3.6          1.4         0.2  setosa
## 6         3.9          1.7         0.4  setosa</code></pre>
<p>Use <code>-</code> to hide a particular column</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>selection4 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(iris, <span class="sc">-</span>Sepal.Length, <span class="sc">-</span>Sepal.Width)</span></code></pre></div>
<p>Note the use of the notation <code>::</code> in the last code chunk.
The use of <code>::</code> is to call a function from a specific package
without necessarily loading the package. The main advantage is to avoid
possible conflicts between functions. In fact, it can happen that
different packages use the same name for different functions.
<code>dplyr::select</code> indicates that we want to use the
<code>select</code> function from the <code>dplyr</code> package. It is
quite common to use this syntax when several packages need to be used in
parallel.</p>
</div>
<div id="filter" class="section level2">
<h2><code>filter</code></h2>
<p>The <code>filter</code> function is used to filter rows with matching
criteria. The idea is the same as seen before (see <a
href="./basics.html">Basics</a>). It works in the same way as the
<code>select</code> function (i.e. we pass a data frame together with a
comma-separated condition).</p>
<ul>
<li>Single condition:</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Select setosa species</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>filtered1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(iris, Species <span class="sc">==</span> <span class="st">&quot;setosa&quot;</span> )</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="fu">head</span>(filtered1,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa</code></pre>
<ul>
<li>Dual conditions:</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Select versicolor species with Sepal width more than 3</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>filtered2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(iris, Species <span class="sc">==</span> <span class="st">&quot;versicolor&quot;</span>, Sepal.Width <span class="sc">&gt;</span> <span class="dv">3</span>)</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="fu">tail</span>(filtered2)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 3          6.9         3.1          4.9         1.5 versicolor
## 4          6.3         3.3          4.7         1.6 versicolor
## 5          6.7         3.1          4.4         1.4 versicolor
## 6          5.9         3.2          4.8         1.8 versicolor
## 7          6.0         3.4          4.5         1.6 versicolor
## 8          6.7         3.1          4.7         1.5 versicolor</code></pre>
</div>
<div id="mutate" class="section level2">
<h2><code>mutate</code></h2>
<p>The function <code>mutate</code> is to create new columns (variables)
while preserving existing columns in a data set. For example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co">#To create a column “Greater.Half” which stores a logical vector (T/F)</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>mutated1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(iris, <span class="at">Greater.Half =</span> Sepal.Width <span class="sc">&gt;</span> <span class="fl">0.5</span> <span class="sc">*</span> Sepal.Length)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="fu">tail</span>(mutated1)</span></code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species Greater.Half
## 145          6.7         3.3          5.7         2.5 virginica        FALSE
## 146          6.7         3.0          5.2         2.3 virginica        FALSE
## 147          6.3         2.5          5.0         1.9 virginica        FALSE
## 148          6.5         3.0          5.2         2.0 virginica        FALSE
## 149          6.2         3.4          5.4         2.3 virginica         TRUE
## 150          5.9         3.0          5.1         1.8 virginica         TRUE</code></pre>
<blockquote>
<p>To check how many flowers fall in this condition, the function
<code>table</code> from the <code>base</code> package produces a
contingency table with the no. of individual where the condition is
<code>TRUE</code> and <code>FALSE</code>:</p>
</blockquote>
<style type="text/css">
.extra {
  background-color: lightgreen;
  border: 3px solid green;
  font-weight: bold;
}
</style>
<div class="sourceCode" id="cb17"><pre
class="sourceCode r extra"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">table</span>(mutated1<span class="sc">$</span>Greater.Half)</span></code></pre></div>
<pre><code>## 
## FALSE  TRUE 
##    84    66</code></pre>
</div>
<div id="arrange" class="section level2">
<h2><code>arrange</code></h2>
<p>The <code>arrange</code> function is used to sort rows by variables
in ascending (default) or descending order. For example:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Sepal Width by ascending order</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>arranged1 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(iris, Sepal.Width)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="fu">head</span>(arranged1)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 1          5.0         2.0          3.5         1.0 versicolor
## 2          6.0         2.2          4.0         1.0 versicolor
## 3          6.2         2.2          4.5         1.5 versicolor
## 4          6.0         2.2          5.0         1.5  virginica
## 5          4.5         2.3          1.3         0.3     setosa
## 6          5.5         2.3          4.0         1.3 versicolor</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># Sepal Width by descending order</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>arranged2 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(iris, <span class="fu">desc</span>(Sepal.Width))</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="fu">head</span>(arranged2)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.7         4.4          1.5         0.4  setosa
## 2          5.5         4.2          1.4         0.2  setosa
## 3          5.2         4.1          1.5         0.1  setosa
## 4          5.8         4.0          1.2         0.2  setosa
## 5          5.4         3.9          1.7         0.4  setosa
## 6          5.4         3.9          1.3         0.4  setosa</code></pre>
</div>
<div id="group_by" class="section level2">
<h2><code>group_by</code></h2>
<p>The <code>group_by</code> function groups observations within a data
set according to one or more variables. Data operations are often
performed on groups defined by variables. <code>ungroup</code> removes
grouping. For example, to <code>summarise</code> a data set,
<code>group_by</code> by <code>Species</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co"># Mean sepal width by Species</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>gp <span class="ot">&lt;-</span> <span class="fu">group_by</span>(iris, Species)</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>gp.mean <span class="ot">&lt;-</span> <span class="fu">summarise</span>(gp,<span class="at">Mean.Sepal =</span> <span class="fu">mean</span>(Sepal.Width))</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>gp.mean</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   Species    Mean.Sepal
##   &lt;fct&gt;           &lt;dbl&gt;
## 1 setosa           3.43
## 2 versicolor       2.77
## 3 virginica        2.97</code></pre>
<p>This creates a <code>tibble</code> (a data frame with stricter
validation and better formatting), see <code>?tibble::tibble</code>,
which returns the mean of the <code>Mean.Sepal</code> width for the
three flowers <code>Species</code>.</p>
</div>
</div>
<div id="pipe-operator" class="section level1">
<h1>Pipe operator</h1>
<p>The use of the above functions is simple and straightforward.
However, the use of this synthax quickly shows its limits when the
operations become more complicated. The use of the pipe operator
<code>%&gt;%</code> makes it possible to link several functions
together. It can be used with functions such as <code>filter</code>,
<code>select</code>, <code>arrange</code>, <code>summarise</code>,
<code>group_by</code>, etc.</p>
<p>Here is an example:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co">#To select the rows with conditions</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Species <span class="sc">==</span> <span class="st">&quot;setosa&quot;</span>,Sepal.Width <span class="sc">&gt;</span> <span class="fl">3.8</span>)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.4         3.9          1.7         0.4  setosa
## 2          5.8         4.0          1.2         0.2  setosa
## 3          5.7         4.4          1.5         0.4  setosa
## 4          5.4         3.9          1.3         0.4  setosa
## 5          5.2         4.1          1.5         0.1  setosa
## 6          5.5         4.2          1.4         0.2  setosa</code></pre>
<p>To find mean <code>Sepal.Length</code> by <code>Species</code>, we
use the pipe operator as following:</p>
<style type="text/css">
.important {
  background-color: lightpink;
  border: 3px solid red;
  font-weight: bold;
}
</style>
<div class="sourceCode" id="cb27"><pre
class="sourceCode r important"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>iris  <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean.Length =</span> <span class="fu">mean</span>(Sepal.Length))</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   Species    Mean.Length
##   &lt;fct&gt;            &lt;dbl&gt;
## 1 setosa            5.01
## 2 versicolor        5.94
## 3 virginica         6.59</code></pre>
<p>The use of the pipe operator <code>%&gt;%</code> has now imposed
itself for the manipulation and transformation of data in R. The R
language is not fixed and with its development this syntax has become
very common. It is now an integral part of most R scripts you will find
online.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
